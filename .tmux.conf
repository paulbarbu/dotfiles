set-option -g default-shell "/usr/bin/fish"
# C-b is not acceptable -- Vim uses it
set-option -g prefix C-a
# Press C-a C-a to switch to last window
bind-key C-a last-window

# Allows us to use C-a a <command> to send commands to a TMUX session inside 
# another TMUX session
bind-key a send-prefix

# Use vim-like keybindings
setw -g mode-keys vi

# synchronize panes
bind e set-window-option synchronize-panes

# Use 256 colors
set -g default-terminal "screen-256color"

# http://unix.stackexchange.com/questions/15715/getting-tmux-to-copy-a-buffer-to-the-clipboard
# Move x clipboard into tmux paste buffer
bind p run "tmux set-buffer \"$(xclip -o)\"; tmux paste-buffer"
# Move tmux copy buffer into x clipboard
bind y run "tmux save-buffer - | xclip -i"
# Set the tmux copy buffer with the mouse
#setw -g mode-mouse copy-mode

#set -g mode-mouse off
#set -g mouse-resize-pane off
#set -g mouse-select-pane off
#set -g mouse-select-window off

# Start numbering at 1
set -g base-index 1

# Allows for faster key repetition
set -s escape-time 0

# Rather than constraining window size to the maximum size of any client 
# connected to the *session*, constrain window size to the maximum size of any 
# client connected to *that window*. Much more reasonable.
setw -g aggressive-resize on

# More intuitive split keys
bind | split-window -h
bind - split-window -v

# Move between panes using vi keys 'hjkl'
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
unbind l
bind l select-pane -R
bind < resize-pane -L 1
bind > resize-pane -R 1

# Set window notifications
setw -g monitor-activity on
set -g visual-activity on

# Highlight active window
set-window-option -g window-status-current-bg blue

# Alerted window in status bar. Windows which have an alert (bell, activity or
# content).
#set-window-option -g window-status-alert-fg red
#set-window-option -g window-status-alert-bg white

# Set a big scroll-back size
set-option -g history-limit 10000

# Example of using a shell command in the status line
#set -g status-right "#[fg=yellow]#(uptime | cut -d ',' -f 2-)"

# List of plugins
# Supports `github_username/repo` or full git URLs
set -g @tpm_plugins "              \
  tmux-plugins/tpm                 \
  tmux-plugins/tmux-resurrect      \
  tmux-plugins/tmux-yank           \
"
# Other examples:
# github_username/plugin_name    \
# git@github.com/user/plugin     \
# git@bitbucket.com/user/plugin  \

# initializes TMUX plugin manager
run-shell ~/.tmux/plugins/tpm/tpm
#
